<!DOCTYPE html>
<html>
  <head>
    <title>mapvader Demo</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="docs/images/favicon.ico"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
      integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
      crossorigin=""
    ></script>
    <link
      href="https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.0/mapbox-gl.js"></script>
  </head>
  <style>
    html,
    body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>

  <body>
    <div
      id="mapid"
      style="position: absolute; top: 0; bottom: 0; right: 0; left: 0"
    ></div>
    <script src="leaflet-mapbox-gl.js"></script>
    <script src="overlay-data/work_diversity.js"></script>
    <script src="overlay-data/figure_ground.js"></script>

    <script>
      var map = L.map("mapid").setView([47.37, 8.53], 13);
      var mapvaderLight = L.mapboxGL({
        style:
          "https://raw.githubusercontent.com/cividi/geohackmin-mapvader/main/styles/mapvaderLight.json",
      }).addTo(map);

      var mapvaderDark = L.mapboxGL({
        style:
          "https://raw.githubusercontent.com/cividi/geohackmin-mapvader/main/styles/mapvaderDark.json",
      });
      var geoAdminDefault = L.mapboxGL({
        style:
          "https://vectortiles.geo.admin.ch/styles/ch.swisstopo.leichte-basiskarte.vt/style.json",
      });

      L.marker([47.3836, 8.4966])
        .addTo(map)
        .bindPopup('<a href="https://cividi.ch/">cividi <br> visit us</a>');

      var work_diversity_Layer = L.geoJson(work_diversity, {
        pointToLayer: function (feature, latlng) {
          return L.circle(latlng, {
            radius: feature.properties.radius,
            fillColor: feature.properties.fillColor,
            fillOpacity: feature.properties.fillOpacity,
            stroke: feature.properties.stroke,
            color: feature.properties.color,
            weight: feature.properties.weight,
          });
        },
      });
      //{ "type": "Feature", "properties": { "fill": "#000000", "fill-opacity": "1", "stroke-opacity": "0", "stroke": "#000000", "stroke-width": "0" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 8.54989, 47.36703 ], [ 8.54987, 47.36702 ], [ 8.54985, 47.36704 ], [ 8.54987, 47.36705 ], [ 8.54989, 47.36703 ] ] ] } },

      var figure_ground_Layer = L.geoJson(figure_ground, {
        style: function (feature) {
          return {
            color: feature.properties["fill"],
            fillOpacity: feature.properties["fill-opacity"],
            opacity: feature.properties["stroke-opacity"],
            stroke: feature.properties["stroke"],
            weight: feature.properties["stroke-width"],
          };
        },
      });

      L.control
        .layers(
          {
            "mapvader Light": mapvaderLight,
            "mapvader Dark": mapvaderDark,
            "geo.admin Default": geoAdminDefault,
          },
          {
            Arbeitsplatzdiversität: work_diversity_Layer,
            Gebäude: figure_ground_Layer,
          },
          { collapsed: false }
        )
        .addTo(map);
    </script>
  </body>
</html>
